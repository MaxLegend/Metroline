package metroline.core.world.event;

import metroline.core.world.GameWorld;
import metroline.core.world.event.base.LocalWorldEvent;
import metroline.objects.enums.StationType;
import metroline.objects.gameobjects.Station;
import metroline.util.MetroLogger;

/**
 * –°–æ–±—ã—Ç–∏–µ –ø–æ–∂–∞—Ä–∞ –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏
 */
public class BurnedStationEvent extends LocalWorldEvent {

    public BurnedStationEvent(GameWorld world, Station targetStation) {
        super(world,
                targetStation,
                "event.station_burn",
                "event.station_burn_desc",
                180000, // 3 –º–∏–Ω—É—Ç—ã –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
                0.9f,   // –≤—ã—Å–æ–∫–∞—è —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å
                true,   // –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç–∞–Ω—Ü–∏—é
                0.0f,   // –¥–æ—Ö–æ–¥–æ–≤ –Ω–µ—Ç
                4.0f    // –∏–∑–Ω–æ—Å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤ 4 —Ä–∞–∑–∞
        );
    }

    @Override
    public void applyEffects() {
        super.applyEffects();
        MetroLogger.logInfo("üî• –ü–û–ñ–ê–† –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏ '" + getTargetStation().getName() + "'! –°—Ç–∞–Ω—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞ –¥–æ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏.");

        // –ú–µ–Ω—è–µ–º —Ç–∏–ø —Å—Ç–∞–Ω—Ü–∏–∏ –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –¥–ª—è –ø–æ–∂–∞—Ä–∞
        getTargetStation().setType(StationType.BURNED);
    }

    @Override
    public void removeEffects() {
        // –ü–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞ —Å—Ç–∞–Ω—Ü–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–∞–∑—Ä—É—à–µ–Ω–Ω–æ–π
        getTargetStation().setType(StationType.BURNED);
        MetroLogger.logInfo("–ü–æ–∂–∞—Ä –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏ '" + getTargetStation().getName() + "' –ª–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω. –°—Ç–∞–Ω—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.");

        // –ù–µ –≤—ã–∑—ã–≤–∞–µ–º super.removeEffects() —á—Ç–æ–±—ã –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    }
}